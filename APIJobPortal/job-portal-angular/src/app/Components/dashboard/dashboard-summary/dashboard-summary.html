<div class="dashboard-container">
  <h2 class="dashboard-title"> Job Portal Dashboard</h2>

  <div class="summary-cards">
    <div class="card" *ngFor="let item of [
        { label: 'Companies', value: summary.totalCompanies },
        { label: 'Jobs', value: summary.totalJobs },
        { label: 'Job Seekers', value: summary.totalJobSeekers },
        { label: 'Applications', value: summary.totalApplications },
        { label: 'Active Jobs', value: summary.activeJobs },
        { label: 'Recent Applications (30d)', value: summary.recentApplications }
      ]">
      <h3>{{ item.label }}</h3>
      <p>{{ item.value || 0 }}</p>
    </div>
  </div>

  <div class="charts">
    <div class="chart-box">
      <h3>Applications per Company</h3>
      <canvas #companyChart></canvas>
    </div>

    <div class="chart-box">
      <h3>Application Trends</h3>
      <canvas #trendChart></canvas>
    </div>

    <div class="chart-box">
      <h3>Top Skills</h3>
      <canvas #skillsChart></canvas>
    </div>
  </div>

  <div class="recent-apps">
    <h3>Recent Applications</h3>
    <table *ngIf="recentApplications.length; else noApps">
      <thead>
        <tr>
          <th>Job Title</th>
          <th>Seeker Name</th>
          <th>Status</th>
          <th>Applied On</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let app of recentApplications">
          <td>{{ app.jobTitle }}</td>
          <td>{{ app.seekerName }}</td>
          <td>{{ app.applicationStatus }}</td>
          <td>{{ app.appliedOn }}</td>
        </tr>
      </tbody>
    </table>
    <ng-template #noApps>
      <p class="empty">No recent applications found.</p>
    </ng-template>
  </div>

   <div class="recent-section">
  <h3>Recent Jobs</h3>
  <table *ngIf="recentJobs.length; else noJobs">
    <thead>
      <tr>
        <th>Job Title</th>
        <th>Posted By</th>
        <th>Location</th>
        <th>Salary</th>
        <th>Posted On</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let job of recentJobs">
        <td>{{ job.jobTitle }}</td>
        <td>{{ job.seekerName }}</td>
        <td>{{ job.location }}</td>
        <td>â‚¹{{ job.salary | number }}</td>
        <td>{{ job.postedOn }}</td>
      </tr>
    </tbody>
  </table>

  <ng-template #noJobs>
    <p class="empty">No recent jobs found.</p>
  </ng-template>
</div>

</div>
